<!doctype html>

<html
  lang="en"
  class="layout-navbar-fixed layout-menu-fixed layout-compact"
  dir="ltr"
  data-skin="default"
  data-assets-path="/assets/"
  data-template="vertical-menu-template"
  data-bs-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0" />

    <title>Crm Creation</title>

    <meta name="description" content="" />

    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="/assets/img/favicon/Mascallnet.png" />

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Public+Sans:ital,wght@0,300;0,400;0,500;0,600;0,700;1,300;1,400;1,500;1,600;1,700&ampdisplay=swap"
      rel="stylesheet" />

    <link rel="stylesheet" href="/assets/vendor/fonts/iconify-icons.css" />

    <!-- Core CSS -->
    <!-- build:css assets/vendor/css/theme.css  -->

    <link rel="stylesheet" href="/assets/vendor/libs/node-waves/node-waves.css" />

    <link rel="stylesheet" href="/assets/vendor/libs/pickr/pickr-themes.css" />

    <link rel="stylesheet" href="/assets/vendor/css/core.css" />
    <link rel="stylesheet" href="/assets/css/demo.css" />

    <!-- Vendors CSS -->

    <link rel="stylesheet" href="/assets/vendor/libs/perfect-scrollbar/perfect-scrollbar.css" />

    <!-- endbuild -->

    <link rel="stylesheet" href="/assets/vendor/libs/apex-charts/apex-charts.css" />
    <link rel="stylesheet" href="/assets/vendor/libs/swiper/swiper.css" />
    <link rel="stylesheet" href="/assets/vendor/libs/datatables-bs5/datatables.bootstrap5.css" />
    <link rel="stylesheet" href="/assets/vendor/libs/datatables-responsive-bs5/responsive.bootstrap5.css" />
    <link rel="stylesheet" href="/assets/vendor/fonts/flag-icons.css" />

    <!-- Page CSS -->
    <link rel="stylesheet" href="/assets/vendor/css/pages/cards-advance.css" />

    <style>

      #viewFieldsContainer {
  display: flex;
  flex-wrap: wrap;
  gap: 1rem; /* Optional spacing between items */
}

.field-wrapper {
  width: 32%;
  padding: 10px;
  box-shadow: 0 2px 4px rgba(0,0,0,0.1);
}

  .field-label {
    flex: 1;
    font-weight: 500;
  }

  .field-controls {
    flex: 4;
    display: flex;
    align-items: center;
    gap: 1rem;
  }

  .field-controls input {
    width: 100%;
  }

  .field-controls button {
    padding: 0.3rem 0.6rem;
  }
</style>



    <!-- Helpers -->
    <script src="/assets/vendor/js/helpers.js"></script>
    <!--! Template customizer & Theme config files MUST be included after core stylesheets and helpers.js in the <head> section -->

    <!--? Template customizer: To hide customizer set displayCustomizer value false in config.js.  -->
    <script src="/assets/vendor/js/template-customizer.js"></script>

    <!--? Config:  Mandatory theme config file contain global vars & default theme options, Set your preferred theme option in this file.  -->

    <script src="/assets/js/config.js"></script>
  </head>

  <body>
    <!-- Layout wrapper -->
    <div class="layout-wrapper layout-content-navbar">
      <div class="layout-container">
        <!-- Menu -->

<!--        <aside id="layout-menu" class="layout-menu menu-vertical menu">-->
<!--    {{ menu_html|safe }}-->
<!--        </aside>-->
        <aside id="layout-menu" class="layout-menu menu-vertical menu">
  <div class="app-brand demo">
    <a href="{% url 'dashboard' %}" class="app-brand-link">
      <!-- Logo SVG and Brand Text -->
      <span class="app-brand-logo demo">
        <span class="text-primary">
          <!-- Your SVG here -->
          <img src="/assets/img/favicon/Mascallnet.png" alt="Mascallnet Logo" style="width: 32px; height: auto; vertical-align: middle;" />

        </span>
      </span>
      <span class="app-brand-text demo menu-text fw-bold ms-3">MasCallNet</span>
    </a>

    <a href="javascript:void(0);" class="layout-menu-toggle menu-link text-large ms-auto">
      <i class="icon-base ti menu-toggle-icon d-none d-xl-block"></i>
      <i class="icon-base ti tabler-x d-block d-xl-none"></i>
    </a>
  </div>

  <!-- ‚úÖ Inject dynamic menu here -->
  {{ menu_html|safe }}
</aside>


        <div class="menu-mobile-toggler d-xl-none rounded-1">
          <a href="javascript:void(0);" class="layout-menu-toggle menu-link text-large text-bg-secondary p-2 rounded-1">
            <i class="ti tabler-menu icon-base"></i>
            <i class="ti tabler-chevron-right icon-base"></i>
          </a>
        </div>
        <!-- / Menu -->

        <!-- Layout container -->
        <div class="layout-page">
          <!-- Navbar -->

          <nav
            class="layout-navbar container-xxl navbar-detached navbar navbar-expand-xl align-items-center bg-navbar-theme"
            id="layout-navbar">
            <div class="layout-menu-toggle navbar-nav align-items-xl-center me-3 me-xl-0 d-xl-none">
              <a class="nav-item nav-link px-0 me-xl-6" href="javascript:void(0)">
                <i class="icon-base ti tabler-menu-2 icon-md"></i>
              </a>
            </div>

            <div class="navbar-nav-right d-flex align-items-center justify-content-end" id="navbar-collapse">
              <!-- Search -->
<!--              <div class="navbar-nav align-items-center">-->
<!--                <div class="nav-item navbar-search-wrapper px-md-0 px-2 mb-0">-->
<!--                  <a class="nav-item nav-link search-toggler d-flex align-items-center px-0" href="javascript:void(0);">-->
<!--                    <span class="d-inline-block text-body-secondary fw-normal" id="autocomplete"></span>-->
<!--                  </a>-->
<!--                </div>-->
<!--              </div>-->

              <!-- /Search -->

              <ul class="navbar-nav flex-row align-items-center ms-md-auto">
                <li class="nav-item dropdown-language dropdown">
                  <a
                    class="nav-link dropdown-toggle hide-arrow btn btn-icon btn-text-secondary rounded-pill"
                    href="javascript:void(0);"
                    data-bs-toggle="dropdown">
                    <i class="icon-base ti tabler-language icon-22px text-heading"></i>
                  </a>
                  <ul class="dropdown-menu dropdown-menu-end">
                    <li>
                      <a class="dropdown-item" href="javascript:void(0);" data-language="en" data-text-direction="ltr">
                        <span>English</span>
                      </a>
                    </li>
                    <li>
                      <a class="dropdown-item" href="javascript:void(0);" data-language="fr" data-text-direction="ltr">
                        <span>French</span>
                      </a>
                    </li>
                    <li>
                      <a class="dropdown-item" href="javascript:void(0);" data-language="ar" data-text-direction="rtl">
                        <span>Arabic</span>
                      </a>
                    </li>
                    <li>
                      <a class="dropdown-item" href="javascript:void(0);" data-language="de" data-text-direction="ltr">
                        <span>German</span>
                      </a>
                    </li>
                  </ul>
                </li>
                <!--/ Language -->

                <!-- Style Switcher -->
                <li class="nav-item dropdown">
                  <a
                    class="nav-link dropdown-toggle hide-arrow btn btn-icon btn-text-secondary rounded-pill"
                    id="nav-theme"
                    href="javascript:void(0);"
                    data-bs-toggle="dropdown">
                    <i class="icon-base ti tabler-sun icon-22px theme-icon-active text-heading"></i>
                    <span class="d-none ms-2" id="nav-theme-text">Toggle theme</span>
                  </a>
                  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-theme-text">
                    <li>
                      <button
                        type="button"
                        class="dropdown-item align-items-center active"
                        data-bs-theme-value="light"
                        aria-pressed="false">
                        <span><i class="icon-base ti tabler-sun icon-22px me-3" data-icon="sun"></i>Light</span>
                      </button>
                    </li>
                    <li>
                      <button
                        type="button"
                        class="dropdown-item align-items-center"
                        data-bs-theme-value="dark"
                        aria-pressed="true">
                        <span
                          ><i class="icon-base ti tabler-moon-stars icon-22px me-3" data-icon="moon-stars"></i
                          >Dark</span
                        >
                      </button>
                    </li>
                    <li>
                      <button
                        type="button"
                        class="dropdown-item align-items-center"
                        data-bs-theme-value="system"
                        aria-pressed="false">
                        <span
                          ><i
                            class="icon-base ti tabler-device-desktop-analytics icon-22px me-3"
                            data-icon="device-desktop-analytics"></i
                          >System</span
                        >
                      </button>
                    </li>
                  </ul>
                </li>
                <!-- / Style Switcher-->

                <!-- Quick links  -->
                <li class="nav-item dropdown-shortcuts navbar-dropdown dropdown">
                  <a
                    class="nav-link dropdown-toggle hide-arrow btn btn-icon btn-text-secondary rounded-pill"
                    href="javascript:void(0);"
                    data-bs-toggle="dropdown"
                    data-bs-auto-close="outside"
                    aria-expanded="false">
                    <i class="icon-base ti tabler-layout-grid-add icon-22px text-heading"></i>
                  </a>
                  <div class="dropdown-menu dropdown-menu-end p-0">
                    <div class="dropdown-menu-header border-bottom">
                      <div class="dropdown-header d-flex align-items-center py-3">
                        <h6 class="mb-0 me-auto">Shortcuts</h6>
                        <a
                          href="javascript:void(0)"
                          class="dropdown-shortcuts-add py-2 btn btn-text-secondary rounded-pill btn-icon"
                          data-bs-toggle="tooltip"
                          data-bs-placement="top"
                          title="Add shortcuts"
                          ><i class="icon-base ti tabler-plus icon-20px text-heading"></i
                        ></a>
                      </div>
                    </div>
                    <div class="dropdown-shortcuts-list scrollable-container">
                      <div class="row row-bordered overflow-visible g-0">
                        <div class="dropdown-shortcuts-item col">
                          <span class="dropdown-shortcuts-icon rounded-circle mb-3">
                            <i class="icon-base ti tabler-calendar icon-26px text-heading"></i>
                          </span>
                          <a href="app-calendar.html" class="stretched-link">Calendar</a>
                          <small>Appointments</small>
                        </div>
                        <div class="dropdown-shortcuts-item col">
                          <span class="dropdown-shortcuts-icon rounded-circle mb-3">
                            <i class="icon-base ti tabler-file-dollar icon-26px text-heading"></i>
                          </span>
                          <a href="app-invoice-list.html" class="stretched-link">Invoice App</a>
                          <small>Manage Accounts</small>
                        </div>
                      </div>
                      <div class="row row-bordered overflow-visible g-0">
                        <div class="dropdown-shortcuts-item col">
                          <span class="dropdown-shortcuts-icon rounded-circle mb-3">
                            <i class="icon-base ti tabler-user icon-26px text-heading"></i>
                          </span>
                          <a href="app-user-list.html" class="stretched-link">User App</a>
                          <small>Manage Users</small>
                        </div>
                        <div class="dropdown-shortcuts-item col">
                          <span class="dropdown-shortcuts-icon rounded-circle mb-3">
                            <i class="icon-base ti tabler-users icon-26px text-heading"></i>
                          </span>
                          <a href="app-access-roles.html" class="stretched-link">Role Management</a>
                          <small>Permission</small>
                        </div>
                      </div>
                      <div class="row row-bordered overflow-visible g-0">
                        <div class="dropdown-shortcuts-item col">
                          <span class="dropdown-shortcuts-icon rounded-circle mb-3">
                            <i class="icon-base ti tabler-device-desktop-analytics icon-26px text-heading"></i>
                          </span>
                          <a href="index.html" class="stretched-link">Dashboard</a>
                          <small>User Dashboard</small>
                        </div>
                        <div class="dropdown-shortcuts-item col">
                          <span class="dropdown-shortcuts-icon rounded-circle mb-3">
                            <i class="icon-base ti tabler-settings icon-26px text-heading"></i>
                          </span>
                          <a href="pages-account-settings-account.html" class="stretched-link">Setting</a>
                          <small>Account Settings</small>
                        </div>
                      </div>
                      <div class="row row-bordered overflow-visible g-0">
                        <div class="dropdown-shortcuts-item col">
                          <span class="dropdown-shortcuts-icon rounded-circle mb-3">
                            <i class="icon-base ti tabler-help-circle icon-26px text-heading"></i>
                          </span>
                          <a href="pages-faq.html" class="stretched-link">FAQs</a>
                          <small>FAQs & Articles</small>
                        </div>
                        <div class="dropdown-shortcuts-item col">
                          <span class="dropdown-shortcuts-icon rounded-circle mb-3">
                            <i class="icon-base ti tabler-square icon-26px text-heading"></i>
                          </span>
                          <a href="modal-examples.html" class="stretched-link">Modals</a>
                          <small>Useful Popups</small>
                        </div>
                      </div>
                    </div>
                  </div>
                </li>
                <!-- Quick links -->

                <!-- Notification -->
                <li class="nav-item dropdown-notifications navbar-dropdown dropdown me-3 me-xl-2">
                  <a
                    class="nav-link dropdown-toggle hide-arrow btn btn-icon btn-text-secondary rounded-pill"
                    href="javascript:void(0);"
                    data-bs-toggle="dropdown"
                    data-bs-auto-close="outside"
                    aria-expanded="false">
                    <span class="position-relative">
                      <i class="icon-base ti tabler-bell icon-22px text-heading"></i>
                      <span class="badge rounded-pill bg-danger badge-dot badge-notifications border"></span>
                    </span>
                  </a>
                  <ul class="dropdown-menu dropdown-menu-end p-0">
                    <li class="dropdown-menu-header border-bottom">
                      <div class="dropdown-header d-flex align-items-center py-3">
                        <h6 class="mb-0 me-auto">Notification</h6>
                        <div class="d-flex align-items-center h6 mb-0">
                          <span class="badge bg-label-primary me-2">8 New</span>
                          <a
                            href="javascript:void(0)"
                            class="dropdown-notifications-all p-2 btn btn-icon"
                            data-bs-toggle="tooltip"
                            data-bs-placement="top"
                            title="Mark all as read"
                            ><i class="icon-base ti tabler-mail-opened text-heading"></i
                          ></a>
                        </div>
                      </div>
                    </li>
                    <li class="dropdown-notifications-list scrollable-container">
                      <ul class="list-group list-group-flush">
                        <li class="list-group-item list-group-item-action dropdown-notifications-item">
                          <div class="d-flex">
                            <div class="flex-shrink-0 me-3">
                              <div class="avatar">
                                <img src="/assets/img/avatars/1.png" alt class="rounded-circle" />
                              </div>
                            </div>
                            <div class="flex-grow-1">
                              <h6 class="small mb-1">Congratulation Lettie üéâ</h6>
                              <small class="mb-1 d-block text-body">Won the monthly best seller gold badge</small>
                              <small class="text-body-secondary">1h ago</small>
                            </div>
                            <div class="flex-shrink-0 dropdown-notifications-actions">
                              <a href="javascript:void(0)" class="dropdown-notifications-read"
                                ><span class="badge badge-dot"></span
                              ></a>
                              <a href="javascript:void(0)" class="dropdown-notifications-archive"
                                ><span class="icon-base ti tabler-x"></span
                              ></a>
                            </div>
                          </div>
                        </li>
                        <li class="list-group-item list-group-item-action dropdown-notifications-item">
                          <div class="d-flex">
                            <div class="flex-shrink-0 me-3">
                              <div class="avatar">
                                <span class="avatar-initial rounded-circle bg-label-danger">CF</span>
                              </div>
                            </div>
                            <div class="flex-grow-1">
                              <h6 class="mb-1 small">Charles Franklin</h6>
                              <small class="mb-1 d-block text-body">Accepted your connection</small>
                              <small class="text-body-secondary">12hr ago</small>
                            </div>
                            <div class="flex-shrink-0 dropdown-notifications-actions">
                              <a href="javascript:void(0)" class="dropdown-notifications-read"
                                ><span class="badge badge-dot"></span
                              ></a>
                              <a href="javascript:void(0)" class="dropdown-notifications-archive"
                                ><span class="icon-base ti tabler-x"></span
                              ></a>
                            </div>
                          </div>
                        </li>
                        <li class="list-group-item list-group-item-action dropdown-notifications-item marked-as-read">
                          <div class="d-flex">
                            <div class="flex-shrink-0 me-3">
                              <div class="avatar">
                                <img src="/assets/img/avatars/2.png" alt class="rounded-circle" />
                              </div>
                            </div>
                            <div class="flex-grow-1">
                              <h6 class="mb-1 small">New Message ‚úâÔ∏è</h6>
                              <small class="mb-1 d-block text-body">You have new message from Natalie</small>
                              <small class="text-body-secondary">1h ago</small>
                            </div>
                            <div class="flex-shrink-0 dropdown-notifications-actions">
                              <a href="javascript:void(0)" class="dropdown-notifications-read"
                                ><span class="badge badge-dot"></span
                              ></a>
                              <a href="javascript:void(0)" class="dropdown-notifications-archive"
                                ><span class="icon-base ti tabler-x"></span
                              ></a>
                            </div>
                          </div>
                        </li>
                        <li class="list-group-item list-group-item-action dropdown-notifications-item">
                          <div class="d-flex">
                            <div class="flex-shrink-0 me-3">
                              <div class="avatar">
                                <span class="avatar-initial rounded-circle bg-label-success"
                                  ><i class="icon-base ti tabler-shopping-cart"></i
                                ></span>
                              </div>
                            </div>
                            <div class="flex-grow-1">
                              <h6 class="mb-1 small">Whoo! You have new order üõí</h6>
                              <small class="mb-1 d-block text-body">ACME Inc. made new order $1,154</small>
                              <small class="text-body-secondary">1 day ago</small>
                            </div>
                            <div class="flex-shrink-0 dropdown-notifications-actions">
                              <a href="javascript:void(0)" class="dropdown-notifications-read"
                                ><span class="badge badge-dot"></span
                              ></a>
                              <a href="javascript:void(0)" class="dropdown-notifications-archive"
                                ><span class="icon-base ti tabler-x"></span
                              ></a>
                            </div>
                          </div>
                        </li>
                        <li class="list-group-item list-group-item-action dropdown-notifications-item marked-as-read">
                          <div class="d-flex">
                            <div class="flex-shrink-0 me-3">
                              <div class="avatar">
                                <img src="/assets/img/avatars/9.png" alt class="rounded-circle" />
                              </div>
                            </div>
                            <div class="flex-grow-1">
                              <h6 class="mb-1 small">Application has been approved üöÄ</h6>
                              <small class="mb-1 d-block text-body"
                                >Your ABC project application has been approved.</small
                              >
                              <small class="text-body-secondary">2 days ago</small>
                            </div>
                            <div class="flex-shrink-0 dropdown-notifications-actions">
                              <a href="javascript:void(0)" class="dropdown-notifications-read"
                                ><span class="badge badge-dot"></span
                              ></a>
                              <a href="javascript:void(0)" class="dropdown-notifications-archive"
                                ><span class="icon-base ti tabler-x"></span
                              ></a>
                            </div>
                          </div>
                        </li>
                        <li class="list-group-item list-group-item-action dropdown-notifications-item marked-as-read">
                          <div class="d-flex">
                            <div class="flex-shrink-0 me-3">
                              <div class="avatar">
                                <span class="avatar-initial rounded-circle bg-label-success"
                                  ><i class="icon-base ti tabler-chart-pie"></i
                                ></span>
                              </div>
                            </div>
                            <div class="flex-grow-1">
                              <h6 class="mb-1 small">Monthly report is generated</h6>
                              <small class="mb-1 d-block text-body">July monthly financial report is generated </small>
                              <small class="text-body-secondary">3 days ago</small>
                            </div>
                            <div class="flex-shrink-0 dropdown-notifications-actions">
                              <a href="javascript:void(0)" class="dropdown-notifications-read"
                                ><span class="badge badge-dot"></span
                              ></a>
                              <a href="javascript:void(0)" class="dropdown-notifications-archive"
                                ><span class="icon-base ti tabler-x"></span
                              ></a>
                            </div>
                          </div>
                        </li>
                        <li class="list-group-item list-group-item-action dropdown-notifications-item marked-as-read">
                          <div class="d-flex">
                            <div class="flex-shrink-0 me-3">
                              <div class="avatar">
                                <img src="/assets/img/avatars/5.png" alt class="rounded-circle" />
                              </div>
                            </div>
                            <div class="flex-grow-1">
                              <h6 class="mb-1 small">Send connection request</h6>
                              <small class="mb-1 d-block text-body">Peter sent you connection request</small>
                              <small class="text-body-secondary">4 days ago</small>
                            </div>
                            <div class="flex-shrink-0 dropdown-notifications-actions">
                              <a href="javascript:void(0)" class="dropdown-notifications-read"
                                ><span class="badge badge-dot"></span
                              ></a>
                              <a href="javascript:void(0)" class="dropdown-notifications-archive"
                                ><span class="icon-base ti tabler-x"></span
                              ></a>
                            </div>
                          </div>
                        </li>
                        <li class="list-group-item list-group-item-action dropdown-notifications-item">
                          <div class="d-flex">
                            <div class="flex-shrink-0 me-3">
                              <div class="avatar">
                                <img src="/assets/img/avatars/6.png" alt class="rounded-circle" />
                              </div>
                            </div>
                            <div class="flex-grow-1">
                              <h6 class="mb-1 small">New message from Jane</h6>
                              <small class="mb-1 d-block text-body">Your have new message from Jane</small>
                              <small class="text-body-secondary">5 days ago</small>
                            </div>
                            <div class="flex-shrink-0 dropdown-notifications-actions">
                              <a href="javascript:void(0)" class="dropdown-notifications-read"
                                ><span class="badge badge-dot"></span
                              ></a>
                              <a href="javascript:void(0)" class="dropdown-notifications-archive"
                                ><span class="icon-base ti tabler-x"></span
                              ></a>
                            </div>
                          </div>
                        </li>
                        <li class="list-group-item list-group-item-action dropdown-notifications-item marked-as-read">
                          <div class="d-flex">
                            <div class="flex-shrink-0 me-3">
                              <div class="avatar">
                                <span class="avatar-initial rounded-circle bg-label-warning"
                                  ><i class="icon-base ti tabler-alert-triangle"></i
                                ></span>
                              </div>
                            </div>
                            <div class="flex-grow-1">
                              <h6 class="mb-1 small">CPU is running high</h6>
                              <small class="mb-1 d-block text-body"
                                >CPU Utilization Percent is currently at 88.63%,</small
                              >
                              <small class="text-body-secondary">5 days ago</small>
                            </div>
                            <div class="flex-shrink-0 dropdown-notifications-actions">
                              <a href="javascript:void(0)" class="dropdown-notifications-read"
                                ><span class="badge badge-dot"></span
                              ></a>
                              <a href="javascript:void(0)" class="dropdown-notifications-archive"
                                ><span class="icon-base ti tabler-x"></span
                              ></a>
                            </div>
                          </div>
                        </li>
                      </ul>
                    </li>
                    <li class="border-top">
                      <div class="d-grid p-4">
                        <a class="btn btn-primary btn-sm d-flex" href="javascript:void(0);">
                          <small class="align-middle">View all notifications</small>
                        </a>
                      </div>
                    </li>
                  </ul>
                </li>
                <!--/ Notification -->

                <!-- User -->
                <li class="nav-item navbar-dropdown dropdown-user dropdown">
                  <a
                    class="nav-link dropdown-toggle hide-arrow p-0"
                    href="javascript:void(0);"
                    data-bs-toggle="dropdown">
                    <div class="avatar avatar-online">
                      <img src="/assets/img/avatars/1.png" alt class="rounded-circle" />
                    </div>
                  </a>
                  <ul class="dropdown-menu dropdown-menu-end">
                    <li>
                      <a class="dropdown-item mt-0" href="pages-account-settings-account.html">
                        <div class="d-flex align-items-center">
                          <div class="flex-shrink-0 me-2">
                            <div class="avatar avatar-online">
                              <img src="/assets/img/avatars/1.png" alt class="rounded-circle" />
                            </div>
                          </div>
                          <div class="flex-grow-1">
                            <h6 class="mb-0">John Doe</h6>
                            <small class="text-body-secondary">Admin</small>
                          </div>
                        </div>
                      </a>
                    </li>
                    <li>
                      <div class="dropdown-divider my-1 mx-n2"></div>
                    </li>
                    <li>
                      <a class="dropdown-item" href="pages-profile-user.html">
                        <i class="icon-base ti tabler-user me-3 icon-md"></i
                        ><span class="align-middle">My Profile</span>
                      </a>
                    </li>
                    <li>
                      <a class="dropdown-item" href="pages-account-settings-account.html">
                        <i class="icon-base ti tabler-settings me-3 icon-md"></i
                        ><span class="align-middle">Settings</span>
                      </a>
                    </li>
                    <li>
                      <a class="dropdown-item" href="pages-account-settings-billing.html">
                        <span class="d-flex align-items-center align-middle">
                          <i class="flex-shrink-0 icon-base ti tabler-file-dollar me-3 icon-md"></i
                          ><span class="flex-grow-1 align-middle">Billing</span>
                          <span class="flex-shrink-0 badge bg-danger d-flex align-items-center justify-content-center"
                            >4</span
                          >
                        </span>
                      </a>
                    </li>
                    <li>
                      <div class="dropdown-divider my-1 mx-n2"></div>
                    </li>
                    <li>
                      <a class="dropdown-item" href="pages-pricing.html">
                        <i class="icon-base ti tabler-currency-dollar me-3 icon-md"></i
                        ><span class="align-middle">Pricing</span>
                      </a>
                    </li>
                    <li>
                      <a class="dropdown-item" href="pages-faq.html">
                        <i class="icon-base ti tabler-question-mark me-3 icon-md"></i
                        ><span class="align-middle">FAQ</span>
                      </a>
                    </li>
                    <li>
                      <div class="d-grid px-2 pt-2 pb-1">
                        <a class="btn btn-sm btn-danger d-flex" href="{% url 'logout' %}" >
                          <small class="align-middle">Logout</small>
                          <i class="icon-base ti tabler-logout ms-2 icon-14px"></i>
                        </a>
                      </div>
                    </li>
                  </ul>
                </li>
                <!--/ User -->
              </ul>
            </div>
          </nav>

          <!-- / Navbar -->

          <!-- Content Wrapper -->

<div class="container py-5">
  <h4 class="mb-4">Manage Required Fields</h4>

  <div class="card shadow-sm rounded-4 p-4 custom-card">
    <h5 class="card-title mb-4">Manage Required Fields</h5>

<!--    <form id="fieldForm" class="browser-default-validation">-->
    <form id="fieldForm" method="POST" >
{% csrf_token %}
      <!-- Field Name -->
      <div class="mb-4">
        <label class="form-label" for="field-name">Field Name</label>
        <input type="text" class="form-control" id="field-name" placeholder="Enter field name" style="width: 72%;" required />
      </div>

      <!-- Field Type -->
      <!-- Field Type -->
<div class="mb-4 d-flex flex-wrap align-items-start gap-4">
  <label class="form-label me-3 mt-2">Field Type</label>
  <div class="form-check">
    <input type="radio" id="field-type-box" name="field-type" value="Text Box" class="form-check-input" required checked />
    <label class="form-check-label" for="field-type-box">Text Box</label>
  </div>
  <div class="form-check">
    <input type="radio" id="field-type-area" name="field-type" value="Text Area" class="form-check-input" required />
    <label class="form-check-label" for="field-type-area">Text Area</label>
  </div>
  <div class="form-check">
    <input type="radio" id="field-type-dropdown" name="field-type" value="Drop Down" class="form-check-input" required />
    <label class="form-check-label" for="field-type-dropdown">Drop Down</label>
  </div>
</div>

<!-- ‚úÖ Move this OUTSIDE the radio button group -->
<div id="dropdownValueContainer" class="mb-4" style="display: none;">
  <label class="form-label" for="dropdown-values">Dropdown Values (comma separated)</label>
  <input type="text" class="form-control" id="dropdown-values" placeholder="e.g. Option1, Option2" style="width: 72%;" />
</div>


      <!-- Field Validation -->
      <div class="mb-4 d-flex flex-wrap align-items-start gap-4">
        <label class="form-label me-3 mt-2">Field Validation</label>
        <div class="form-check">
          <input type="radio" id="validation-numeric" name="field-validation" value="Numeric" class="form-check-input" required checked />
          <label class="form-check-label" for="validation-numeric">Numeric</label>
        </div>
        <div class="form-check">
          <input type="radio" id="validation-character" name="field-validation" value="Character" class="form-check-input" required />
          <label class="form-check-label" for="validation-character">Character</label>
        </div>
        <div class="form-check">
          <input type="radio" id="validation-alphanumeric" name="field-validation" value="Alphanumeric" class="form-check-input" required />
          <label class="form-check-label" for="validation-alphanumeric">Alphanumeric</label>
        </div>
        <div class="form-check">
          <input type="radio" id="validation-datepicker" name="field-validation" value="Datepicker" class="form-check-input" required />
          <label class="form-check-label" for="validation-datepicker">Datepicker</label>
        </div>
        <div class="form-check">
          <input type="radio" id="validation-phone" name="field-validation" value="Phone" class="form-check-input" required />
          <label class="form-check-label" for="validation-phone">Phone</label>
        </div>
      </div>

      <!-- Mandatory Checkbox -->
      <div class="mb-4">
        <div class="form-check">
          <input type="checkbox" class="form-check-input" id="mandatory-check" />
          <label class="form-check-label" for="mandatory-check">Make This Mandatory</label>
        </div>
      </div>

      <!-- Submit Button -->
      <div class="text-center">
        <button type="submit" class="btn btn-primary px-4">Add</button>
      </div>
    </form>
  </div>

  <!-- View Fields -->
  <div class="custom-card" id="customCard" style="display: none;">
    <h5 class="mb-4">View Required Fields</h5>
    <div id="viewFieldsContainer"></div>
  </div>


  <!-- Priority Table -->
<div class="custom-card mt-5" id="prioritySection" style="display: none;">
  <h5 class="mb-4">Update Required Fields Priority</h5>
  <table class="table table-bordered">
    <thead>
      <tr>
        <th>Field Name</th>
        <th>Field Type</th>
        <th>Field Validation</th>
        <th>Required</th>
        <th>Priority</th>
      </tr>
    </thead>
    <tbody id="priorityTableBody">
      <!-- Dynamic rows will be inserted here -->
    </tbody>
  </table>

  <div class="text-center">
    <button id="submit_id" class="btn btn-primary px-4">Submit</button>
  </div>
</div>

</div>



<!--          DYANMIC FIELD-->
         <h5 style="margin-left:25px;">Dynamic CRM Field</h5>

<form method="POST" id="dynamicForm">
  {% csrf_token %}
  <div style="display: flex; flex-wrap: wrap; margin-left: 20px; gap: 8px;">
    {% for field in fields %}
      <div class="mb-3 border p-3 rounded" style="width: 32%;">
        <label class="form-label fw-bold">{{ field.FieldName }}</label>

        {# Text Box #}
        {% if field.FieldType == "Text Box" %}
          {% if field.FieldValidation == "Datepicker" %}
            <input type="date" name="{{ field.FieldName }}" class="form-control w-100"
                   {% if field.RequiredCheck == "Yes" %} required {% endif %} />
          {% else %}
            <input type="text" name="{{ field.FieldName }}" class="form-control w-100"
                   {% if field.RequiredCheck == "Yes" %} required {% endif %} />
          {% endif %}

        {# Text Area #}
        {% elif field.FieldType == "Text Area" %}
          <textarea name="{{ field.FieldName }}" class="form-control w-100" rows="3"
                    {% if field.RequiredCheck == "Yes" %} required {% endif %}></textarea>

        {# Drop Down #}
        {% elif field.FieldType == "Drop Down" %}
          <select name="{{ field.FieldName }}" class="form-select w-100"
                  {% if field.RequiredCheck == "Yes" %} required {% endif %}>
            <option value="">Select {{ field.FieldName }}</option>
            {% for option in field.field_values.all %}
              {% if option.FieldStatus == "Active" %}
                <option value="{{ option.FieldValueName }}">{{ option.FieldValueName }}</option>
              {% endif %}
            {% endfor %}
          </select>
        {% endif %}

        <!-- Edit/Delete Buttons -->
        <div class="mt-3 d-flex justify-content-end gap-2">
  <a href="#" class="btn btn-warning btn-sm" data-toggle="modal" data-target="#editModal" onclick="populateEditForm({{ field.id }})">‚úèÔ∏è Edit</a>
 <form method="post" action="{% url 'delete_field' field.id %}" style="display:inline;">
    {% csrf_token %}
    <button type="submit" class="btn btn-danger btn-sm" onclick="return confirm('Delete this field?');">üóëÔ∏è Delete</button>
  </form>
</div>

      </div>
    {% endfor %}
  </div>

  <!-- Submit Button -->
  <div class="mt-4 text-center">
    <button type="submit" id="submitForm" class="btn btn-primary px-4">Submit</button>
  </div>
</form>

          <!-- Success/Error Message -->
<div id="formMessage" class="mt-3 text-center"></div>





          <!--          DYANMIC FIELD End -->

<!-- Modal -->
<div class="modal fade" id="editModal" tabindex="-1" aria-labelledby="editModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg">
    <div class="modal-content rounded-4" style="margin-left: 46px; margin-top: 75px;">
      <div class="modal-header">
        <h5 class="modal-title" id="editModalLabel">Edit Field</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>

      <div class="modal-body px-4">
        <form id="editForm" method="POST">
          {% csrf_token %}
          <input type="hidden" id="editFieldId" name="id"  value=""/>

          <!-- Field Name -->
          <div class="mb-4">
            <label class="form-label" for="editFieldName">Field Name</label>
            <input type="text" class="form-control" id="editFieldName" name="FieldName" placeholder="Enter field name" style="width: 72%;" required />
          </div>

          <!-- Field Type -->
          <div class="mb-4 d-flex flex-wrap align-items-start gap-4">
            <label class="form-label me-3 mt-2">Field Type</label>
            <div class="form-check">
              <input type="radio" id="edit-type-box" name="FieldType" value="Text Box" class="form-check-input" required />
              <label class="form-check-label" for="edit-type-box">Text Box</label>
            </div>
            <div class="form-check">
              <input type="radio" id="edit-type-area" name="FieldType" value="Text Area" class="form-check-input" required />
              <label class="form-check-label" for="edit-type-area">Text Area</label>
            </div>
            <div class="form-check">
              <input type="radio" id="edit-type-dropdown" name="FieldType" value="Drop Down" class="form-check-input" required />
              <label class="form-check-label" for="edit-type-dropdown">Drop Down</label>
            </div>
          </div>

          <!-- Dropdown Values (conditionally visible) -->
          <div id="editDropdownValueContainer" class="mb-4" style="display: none;">
            <label class="form-label" for="editDropdownValues">Dropdown Values (comma separated)</label>
            <input type="text" class="form-control" id="editDropdownValues" name="DropdownValues" placeholder="e.g. Option1, Option2" style="width: 72%;" />
          </div>

          <!-- Field Validation -->
          <div class="mb-4 d-flex flex-wrap align-items-start gap-4">
            <label class="form-label me-3 mt-2">Field Validation</label>
            <div class="form-check">
              <input type="radio" id="edit-validation-numeric" name="FieldValidation" value="Numeric" class="form-check-input" required />
              <label class="form-check-label" for="edit-validation-numeric">Numeric</label>
            </div>
            <div class="form-check">
              <input type="radio" id="edit-validation-character" name="FieldValidation" value="Character" class="form-check-input" required />
              <label class="form-check-label" for="edit-validation-character">Character</label>
            </div>
            <div class="form-check">
              <input type="radio" id="edit-validation-alphanumeric" name="FieldValidation" value="Alphanumeric" class="form-check-input" required />
              <label class="form-check-label" for="edit-validation-alphanumeric">Alphanumeric</label>
            </div>
            <div class="form-check">
              <input type="radio" id="edit-validation-datepicker" name="FieldValidation" value="Datepicker" class="form-check-input" required />
              <label class="form-check-label" for="edit-validation-datepicker">Datepicker</label>
            </div>
            <div class="form-check">
              <input type="radio" id="edit-validation-phone" name="FieldValidation" value="Phone" class="form-check-input" required />
              <label class="form-check-label" for="edit-validation-phone">Phone</label>
            </div>
          </div>

          <!-- Mandatory Checkbox -->
          <div class="mb-4">
            <input type="hidden" name="RequiredCheck" value="off" />
            <div class="form-check">
              <input type="checkbox" class="form-check-input" id="editRequiredCheck" name="RequiredCheck" value="on" />
              <label class="form-check-label" for="editRequiredCheck">Make This Mandatory</label>
            </div>
          </div>

          <!-- Submit Button -->
          <div class="text-center">
            <button type="submit" id="model_submit" class="btn btn-primary px-4">Save Changes</button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>




          <!-- Content wrapper -->
        </div>
        <!-- / Layout page -->
      </div>

      <!-- Overlay -->
      <div class="layout-overlay layout-menu-toggle"></div>

      <!-- Drag Target Area To SlideIn Menu On Small Screens -->
      <div class="drag-target"></div>
    </div>
    <!-- / Layout wrapper -->

    <!-- Core JS -->
    <!-- build:js assets/vendor/js/theme.js -->

    <script src="/assets/vendor/libs/jquery/jquery.js"></script>

    <script src="/assets/vendor/libs/popper/popper.js"></script>
    <script src="/assets/vendor/js/bootstrap.js"></script>
    <script src="/assets/vendor/libs/node-waves/node-waves.js"></script>

    <script src="/assets/vendor/libs/@algolia/autocomplete-js.js"></script>

    <script src="/assets/vendor/libs/pickr/pickr.js"></script>

    <script src="/assets/vendor/libs/perfect-scrollbar/perfect-scrollbar.js"></script>

    <script src="/assets/vendor/libs/hammer/hammer.js"></script>

    <script src="/assets/vendor/libs/i18n/i18n.js"></script>

    <script src="/assets/vendor/js/menu.js"></script>

    <!-- endbuild -->

    <!-- Vendors JS -->
    <script src="/assets/vendor/libs/apex-charts/apexcharts.js"></script>
    <script src="/assets/vendor/libs/swiper/swiper.js"></script>
    <script src="/assets/vendor/libs/datatables-bs5/datatables-bootstrap5.js"></script>

    <!-- Main JS -->

    <script src="/assets/js/main.js"></script>

    <!-- Page JS -->
    <script src="/assets/js/dashboards-analytics.js"></script>


<script>
  const form = document.getElementById('fieldForm');
  const container = document.getElementById('viewFieldsContainer');
  const customCard = document.getElementById('customCard');
  const priorityTableBody = document.getElementById('priorityTableBody');
  const prioritySection = document.getElementById('prioritySection');

  const dropdownRadio = document.getElementById('field-type-dropdown');
  const valueContainer = document.getElementById('dropdownValueContainer');
  const dropdownInput = document.getElementById('dropdown-values');

  // Show/hide dropdown value input based on selected field type
  document.querySelectorAll('input[name="field-type"]').forEach((radio) => {
    radio.addEventListener('change', () => {
      if (dropdownRadio.checked) {
        valueContainer.style.display = 'block';
      } else {
        valueContainer.style.display = 'none';
        dropdownInput.value = '';
      }
    });
  });

  form.addEventListener('submit', function (e) {
    e.preventDefault();

    const name = document.getElementById('field-name').value.trim();
    if (!name) return;

    const fieldType = form.querySelector('input[name="field-type"]:checked')?.value || '';
    const fieldValidation = form.querySelector('input[name="field-validation"]:checked')?.value || '';
    const isRequired = document.getElementById('mandatory-check').checked ? 'Yes' : 'No';

    customCard.style.display = 'block';
    prioritySection.style.display = 'block';

    const fieldDiv = document.createElement('div');
    fieldDiv.className = 'field-wrapper';

    const label = document.createElement('div');
    label.className = 'field-label';
    label.textContent = name;

    const controls = document.createElement('div');
    controls.className = 'field-controls';

    let input;

    if (fieldType === 'Drop Down') {
      input = document.createElement('select');
      input.className = 'form-control w-50';
      input.name = name; // user's selected value

      const values = dropdownInput.value.split(',').map(v => v.trim()).filter(v => v);
      const placeholder = 'Select ' + name;
      input.appendChild(new Option(placeholder, '', true, true));

      values.forEach(val => {
        const option = document.createElement('option');
        option.textContent = val;
        option.value = val;
        input.appendChild(option);
      });

      // Hidden input to store list of options for saving
      const hiddenInput = document.createElement('input');
      hiddenInput.type = 'hidden';
      hiddenInput.name = `${name}_options`;  // Different name to avoid conflict
      hiddenInput.value = values.join(',');

      controls.appendChild(hiddenInput);
    } else {
      input = document.createElement('input');
      input.type = 'text';
      input.className = 'form-control w-50';
      input.name = name;
    }

<!--    const editBtn = document.createElement('button');-->
<!--    editBtn.innerHTML = '‚úèÔ∏è';-->
<!--    editBtn.className = 'btn btn-light';-->
<!--    editBtn.style.padding = '0.3rem 0.3rem';-->
<!--    editBtn.onclick = () => alert('Implement edit logic');-->

    const deleteBtn = document.createElement('button');
    deleteBtn.innerHTML = 'üóëÔ∏è';
    deleteBtn.className = 'btn btn-light';
    deleteBtn.style.padding = '0.3rem 0.3rem';
    deleteBtn.onclick = () => {
      fieldDiv.remove();
      row.remove();
      if (!container.children.length) customCard.style.display = 'none';
      if (!priorityTableBody.children.length) prioritySection.style.display = 'none';
    };

    controls.appendChild(input);
<!--    controls.appendChild(editBtn);-->
    controls.appendChild(deleteBtn);

    fieldDiv.appendChild(label);
    fieldDiv.appendChild(controls);
    container.appendChild(fieldDiv);

    // Add priority row
    const row = document.createElement('tr');
    row.innerHTML = `
      <td data-label="name">${name}</td>
      <td data-label="fieldType">${fieldType}</td>
      <td data-label="fieldValidation">${fieldValidation}</td>
      <td data-label="isRequired">${isRequired}</td>
      <td data-label="priority">
        <input type="number" class="form-control priority-input" value="${priorityTableBody.children.length + 1}" />
      </td>
    `;
    priorityTableBody.appendChild(row);

    form.reset();
    valueContainer.style.display = 'none';
  });
</script>

<script>
  document.addEventListener("DOMContentLoaded", function () {
    const dropdownRadio = document.getElementById("field-type-dropdown");
    const boxRadio = document.getElementById("field-type-box");
    const areaRadio = document.getElementById("field-type-area");
    const dropdownContainer = document.getElementById("dropdownValueContainer");

    function toggleDropdownInput() {
      if (dropdownRadio.checked) {
        dropdownContainer.style.display = "block";
      } else {
        dropdownContainer.style.display = "none";
      }
    }

    toggleDropdownInput(); // Run once on load

    [dropdownRadio, boxRadio, areaRadio].forEach(radio => {
      radio.addEventListener("change", toggleDropdownInput);
    });
  });
</script>

<script>
  document.addEventListener('DOMContentLoaded', function () {
    const form = document.getElementById('fieldForm');
    const submitBtn = document.getElementById('submit_id');
    const priorityTableBody = document.getElementById('priorityTableBody');
    const viewFieldsContainer = document.getElementById('viewFieldsContainer');
    const customCard = document.getElementById('customCard');
    const prioritySection = document.getElementById('prioritySection');

    submitBtn.addEventListener('click', function (e) {
      e.preventDefault();

      const csrfToken = document.querySelector('[name=csrfmiddlewaretoken]')?.value;

      const dynamicData = {};
      const hiddenOptions = {};
      const dynamicInputs = viewFieldsContainer.querySelectorAll('input, select');

      dynamicInputs.forEach(input => {
        if (input.name) {
          if (input.name.endsWith('_options')) {
            hiddenOptions[input.name] = input.value;
          } else {
            dynamicData[input.name] = input.value.trim();
          }
        }
      });

      Object.assign(dynamicData, hiddenOptions);

      const rows = priorityTableBody.querySelectorAll('tr');
      const tableData = [];

      rows.forEach(row => {
        const rowData = {
          name: row.querySelector('[data-label="name"]')?.textContent?.trim() || '',
          fieldType: row.querySelector('[data-label="fieldType"]')?.textContent?.trim() || '',
          fieldValidation: row.querySelector('[data-label="fieldValidation"]')?.textContent?.trim() || '',
          isRequired: row.querySelector('[data-label="isRequired"]')?.textContent?.trim() || '',
          priority: row.querySelector('input.priority-input')?.value || ''
        };
        tableData.push(rowData);
      });

      const payload = {
        formData: dynamicData,
        fields: tableData
      };

      console.log('Sending Payload:', payload);

      fetch('/user/crm_save/', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
          'X-CSRFToken': csrfToken,
        },
        body: JSON.stringify(payload)
      })
      .then(response => {
        if (!response.ok) throw new Error('Network response was not ok');
        return response.json();
      })
      .then(data => {
        alert('Successfully saved');

        form.reset();
        location.reload();
        container.innerHTML = '';
        priorityTableBody.innerHTML = '';
        customCard.style.display = 'none';
        prioritySection.style.display = 'none';
      })
      .catch((error) => {
        console.error('Error:', error);
      });
    });
  });
</script>


    <script>
  function populateEditForm(fieldId) {
    // Debug alert
    console.log('Fetching data for field ID:', fieldId);
    // Show modal
        const modal = new bootstrap.Modal(document.getElementById('editModal'));
        modal.show();

    fetch(`/fields/${fieldId}/edit/`)
      .then(response => {
        if (!response.ok) throw new Error('Network response was not ok');
        return response.json();
      })
      .then(data => {
        // Populate text fields
        document.getElementById('editFieldId').value = data.id || '';
        document.getElementById('editFieldName').value = data.FieldName || '';

        // Set FieldType radio
        const typeRadio = document.querySelector(`input[name="FieldType"][value="${data.FieldType}"]`);
        if (typeRadio) typeRadio.checked = true;

        // Show/hide dropdown value field
        const dropdownContainer = document.getElementById("editDropdownValueContainer");
        if (data.FieldType === "Drop Down") {
          dropdownContainer.style.display = "block";
          document.getElementById("editDropdownValues").value = data.DropdownValues || '';
        } else {
          dropdownContainer.style.display = "none";
          document.getElementById("editDropdownValues").value = '';
        }

        // Set FieldValidation radio
        const validationRadio = document.querySelector(`input[name="FieldValidation"][value="${data.FieldValidation}"]`);
        if (validationRadio) validationRadio.checked = true;

        // Required checkbox
        document.getElementById('editRequiredCheck').checked = data.RequiredCheck === true || data.RequiredCheck === "Yes";


      })
      .catch(error => {
        console.error('Error fetching field data:', error);
        alert('Failed to load data. Please try again.');
      });
  }

  // Form submission handler
  document.getElementById('editForm').addEventListener('submit', function(event) {
  event.preventDefault();

  const formData = new FormData(this);

  const checkbox = document.getElementById('editRequiredCheck');
  formData.set('RequiredCheck', checkbox.checked ? 'Yes' : 'No');

  const fieldId = formData.get('id');

  fetch(`/fields/${fieldId}/edit1/`, {
    method: 'POST',
    body: formData,
  })
  .then(response => {
    if (!response.ok) throw new Error('Failed to save');
    return response.json();
  })
  .then(data => {
    if (data.success) {
      const modalElement = document.getElementById('editModal');
      const modalInstance = bootstrap.Modal.getInstance(modalElement);
      modalInstance.hide();
      location.reload();
    } else {
      alert('Error updating field.');
    }
  })
  .catch(error => {
    console.error('Error updating field:', error);
    alert('Something went wrong while saving.');
  });
});


  // Toggle dropdown value input on FieldType radio change
  document.addEventListener("DOMContentLoaded", () => {
    const container = document.getElementById("editDropdownValueContainer");

    const radios = document.querySelectorAll('input[name="FieldType"]');
    radios.forEach(radio => {
      radio.addEventListener("change", () => {
        if (radio.value === "Drop Down" && radio.checked) {
          container.style.display = "block";
        } else {
          container.style.display = "none";
        }
      });
    });
  });
</script>


<!--  dynamic value save start-->

  <script>
document.getElementById('submitForm').addEventListener('click', function () {
  const form = document.getElementById('dynamicForm');

  if (!form.checkValidity()) {
    form.reportValidity();  
    return;
  }


  const formData = new FormData(form);

  const data = {};
  for (const [key, value] of formData.entries()) {
    data[key] = value;
  }

  fetch("{% url 'save_dynamic_form' %}", {
    method: 'POST',
    headers: {
      'Content-Type': 'application/json',
      'X-CSRFToken': '{{ csrf_token }}'  // Important for CSRF protection
    },
    body: JSON.stringify(data)
  })
  .then(res => res.json())
  .then(response => {
    const msgBox = document.getElementById('formMessage');
    if (response.success) {
      msgBox.innerHTML = `<div class="alert alert-success">${response.message}</div>`;
      form.reset();
    } else {
      msgBox.innerHTML = `<div class="alert alert-danger">Error: ${response.error}</div>`;
    }
  })
  .catch(error => {
    console.error('AJAX error:', error);
    document.getElementById('formMessage').innerHTML =
      `<div class="alert alert-danger">Unexpected error occurred</div>`;
  });
});
</script>

<!--  dynamic value save End-->


  </body>
</html>
